{% extends 'base.html' %}
{% block content %}
<h1 class="h3 mb-1 text-gray-800" id="Information">åŸºæœ¬ä¿¡æ¯</h1>
<p class="mb-4">æ­¤æ¨¡å—åŒ…å«äº†åœ¨è¯¥è´¦æˆ·å…¬å¼€èŒƒå›´å†…çš„ä¸€äº›ä¿¡æ¯ä»¥åŠç³»ç»Ÿæ”¶å½•åˆ°çš„ç¨æ—©ä¸€äº›çš„ä¿¡æ¯</p>
<div class="row">
    <div class="col-xl-6 col-lg-7">
        <div class="card shadow mb-4">
            <div class="card-header py-3">
                <h6 class="m-0 font-weight-bold text-primary">ä¸ªäººä¿¡æ¯</h6>
            </div>
            <div class="card-body">
                <p>TAçš„ID:<code id="hisid">{{data.id}}</code></p>
                <p>TAçš„steamid:{{data.steamid}}</p>
                {% if data.images != [] %}
                <p>TAçš„å›¾ç‰‡å¢™:</p>
                {% for item in data.images %}
                <p>&nbsp;&nbsp;&nbsp;&nbsp;<a
                        href="https://steamcommunity.com/sharedfiles/filedetails/?id={{item}}">{{item}}</a></p>
                {% endfor %}
                {% endif %}
                {% if data.regestertime != "" %}
                <p>TAçš„æ³¨å†Œæ—¶é—´:{{data.regestertime}}</p>
                {% endif %}
                {% if gamedata|length > 0 or groupdata|length > 0 %}
                <p>TAçš„æ¸¸æˆ/ç¾¤èŠåˆ—è¡¨:</p>
                <div class="table-responsive">
                    <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
                        <thead>
                            <tr>
                                <th>GameName/Groupid</th>
                                <th>Appid/Groupnum</th>
                                <th>OffialPage</th>
                                <th>Type</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for item in gamedata %}
                            <tr>
                                <td>{{item["m.name"]}}</td>
                                <td>{{item['m.id']}}</td>
                                <td><a href="https://store.steampowered.com/app/{{item['m.id']}}">å•†åº—é“¾æ¥</a></td>
                                <td>Game</td>
                            </tr>
                            {% endfor %}
                            {% for item in groupdata %}
                            <tr>
                                <td>{{item["m.id"]}}</td>
                                <td>{{item['m.num']}}</td>
                                <td><a href="https://store.steampowered.com/app/{{item['m.id']}}">ç¾¤ç»„é“¾æ¥</a></td>
                                <td>Group</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
                {% endif %}
                <p>æ•°æ®æ›´æ–°æ—¶é—´:{{data.updatetime|ctime}}</p>
                <p>æƒ³è¦è·å–æœ€æ–°æ•°æ®ï¼Ÿè¯·ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®å°†æ­¤è´¦æˆ·åŠ å…¥ä¼˜å…ˆé˜Ÿåˆ—ï¼Œåœ¨ç³»ç»Ÿå®Œæˆå½“å‰ä»»åŠ¡åè‡ªåŠ¨æ›´æ–°æ•°æ®ğŸ˜€</p>
                <form id="butto" class="btn btn-primary btn-icon-split">
                    <span class="icon text-white-50">
                        <i class="fas fa-flag"></i>
                    </span>
                    <span class="text">ç‚¹å‡»å°†èŠ‚ç‚¹åŠ å…¥ä¼˜å…ˆé˜Ÿåˆ—</span>
                </form>
                </br>
                </br>
                <div class="card mb-4 py-3 border-left-success" id="onsuccess" style="display: none;">
                    <div class="card-body">
                        åŠ å…¥ä¼˜å…ˆé˜Ÿåˆ—æˆåŠŸï¼è¯·è€å¿ƒæ’é˜Ÿç­‰å¾…ğŸ˜
                    </div>
                </div>
            </div>
        </div>
        <script>
            $("#butto").click(function () {
                $.ajax({
                    type: 'POST',
                    url: '/add',
                    data: { 'data': $("#hisid").text() },
                    success: function (data) {
                        $("#onsuccess").show()
                    },
                    error: function (event) {
                        console.log(event.responseText);
                    },
                    dataType: 'json'
                });
            })
        </script>
    </div>
    <div class="col-xl-6 col-lg-5">
        <div class="card shadow mb-4">
            <div class="card-header py-3">
                <h6 class="m-0 font-weight-bold text-primary">æ›¾ç»ä½¿ç”¨è¿‡çš„ä¿¡æ¯</h6>
            </div>
            <div class="card-body">
                {% if data.oldname|length > 0 %}
                <p>æ›¾ç»ä½¿ç”¨è¿‡çš„æ˜µç§°:</p>
                <div class="table-responsive">
                    <table class="table table-bordered" width="100%" cellspacing="0">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>ChangeTime</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for it,em in data.oldname %}
                            <tr>
                                <td>{{it}}</td>
                                <td>{{ em|ctime }}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
                {% endif %}
                {% if data.loc|length > 0 %}
                <p>æ›¾ç»æ›´æ–°è¿‡çš„åœ°åŒº:</p>
                <div class="table-responsive">
                    <table class="table table-bordered" width="100%" cellspacing="0">
                        <thead>
                            <tr>
                                <th>Location</th>
                                <th>ChangeTime</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for it,em in data.loc %}
                            <tr>
                                <td>{{it}}</td>
                                <td>{{ em|ctime }}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
                {% endif %}
                {% if data.personaname|length > 0 %}
                <p>æ›¾ç»æ›´æ–°è¿‡çš„çœŸå:</p>
                <div class="table-responsive">
                    <table class="table table-bordered" width="100%" cellspacing="0">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>ChangeTime</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for it,em in data.personaname %}
                            <tr>
                                <td>{{it}}</td>
                                <td>{{ em|ctime }}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
                {% endif %}
                {% if data.summary|length > 0 %}
                <p>æ›¾ç»æ›´æ–°è¿‡çš„ç­¾åæ :</p>
                <div class="table-responsive">
                    <table class="table table-bordered" width="100%" cellspacing="0">
                        <thead>
                            <tr>
                                <th>Summary</th>
                                <th>ChangeTime</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for it,em in data.summary %}
                            <tr>
                                <td>{{it}}</td>
                                <td>{{ em|ctime }}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
</div>
<h1 class="h3 mb-1 text-gray-800" id="Deduce">ä¸ªäººç”»åƒ</h1>
<p class="mb-4">æ­¤æ¨¡å—æ ¹æ®ç”¨æˆ·æ‰€ç©æ¸¸æˆç§ç±»æ•°ç›®å’Œæ—¶é—´ç»¼åˆè€Œæ¥</p>
<div class="row">
    <div class="col-xl-7 col-lg-5">
        <div class="card shadow mb-4">
            <div class="card-header py-3">
                <h6 class="m-0 font-weight-bold text-primary">ä¸ªäººç”»åƒ</h6>
            </div>
            <div class="card-body" style="min-height: 350px;">
                <div id="cyt" style="min-height: 350px;width: 100%;height: 600%;text-align:center;
                display:table;"></div>
            </div>
        </div>
    </div>
    <div class="col-xl-5 col-lg-7">
        <div class="card shadow mb-4">
            <div class="card-header py-3">
                <h6 class="m-0 font-weight-bold text-primary">ä¸ªäººç”»åƒè¯´æ˜</h6>
            </div>
            <div class="card-body" style="min-height: 350px;">
                <p>å› ä¸ºæ’ä»¶çš„æ˜¾ç¤ºåŸå› ï¼Œæ‰‹æœºç«¯çš„ä¸ªäººç”»åƒå¯èƒ½æœ‰ç‚¹ä¸‘ã€‚å¦‚æœéœ€è¦æŸ¥çœ‹æ­£å¸¸æ˜¾ç¤ºçš„å›¾ç‰‡å¯ä»¥åœ¨æ‰‹æœºæµè§ˆå™¨ä¸­è®¾ç½®ç½‘é¡µç‰ˆ(ç”µè„‘ç‰ˆ)UAã€‚å¦‚æœä¸ªäººç”»åƒæ— æ³•æ˜¾ç¤ºï¼Œæœ‰å¯èƒ½æ˜¯è¯¥ç”¨æˆ·æ¸¸æˆåšäº†éšè—æˆ–è€…æ²¡æœ‰æ¸¸æˆæˆ–è€…æ€»æ¸¸æˆæ—¶é•¿ä¸º0ï¼Œå½“ç„¶ä¹Ÿæœ‰å¯èƒ½æ˜¯çˆ¬å–è¯¥è´¦æˆ·æ—¶å‡ºäº†ä¸€äº›é—®é¢˜ã€‚ä½ åœ¨æ’é™¤å®¢è§‚å› ç´ ä¹‹åï¼Œå¯ä»¥é€‰æ‹©æ‰‹åŠ¨ç‚¹å‡»åŠ å…¥ä¼˜å…ˆèŠ‚ç‚¹å¹¶ç­‰å¾…åˆ·æ–°å®Œæˆå†æŸ¥çœ‹ã€ä¹Ÿå¯ä»¥åé¦ˆä¿¡æ¯è‡³issueæ¿å—ï¼Œæ„Ÿè°¢ä½ åšå‡ºçš„è´¡çŒ®ğŸ˜‰
                </p>
            </div>
        </div>
    </div>
</div>
<h1 class="h3 mb-1 text-gray-800" id="Intimacy">äº²å¯†å…³ç³»</h1>
<p class="mb-4">æ­¤æ¨¡å—æ ¹æ®ç”¨æˆ·å’Œå…¶å¥½å‹çš„äº¤äº’è®¡ç®—äº²å¯†åº¦ï¼Œä»…å…·æœ‰å‚è€ƒæ„ä¹‰</p>
<div class="row">
    <div class="col-xl-7 col-lg-5">
        <div class="card shadow mb-4">
            <div class="card-header py-3">
                <h6 class="m-0 font-weight-bold text-primary">äº²å¯†åº¦</h6>
            </div>
            <div class="card-body">
                {% if intimacy|length > 0 %}
                <p><strong>äº²å¯†åº¦æ’åº(å‰10ä½)</strong></p>
                <div class="table-responsive">
                    <table class="table table-bordered" width="100%" cellspacing="0">
                        <thead>
                            <tr>
                                <th>FriendId</th>
                                <th>Intimacy</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for it,em in intimacy %}
                            <tr>
                                <td>{{ it }}</td>
                                <td>{{ em }}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
    <div class="col-xl-5 col-lg-7">
        <div class="card shadow mb-4">
            <div class="card-header py-3">
                <h6 class="m-0 font-weight-bold text-primary">äº²å¯†åº¦è¯´æ˜</h6>
            </div>
            <div class="card-body" style="min-height: 350px;">
                <p>äº²å¯†åº¦çš„è®¡ç®—æ˜¯åŸºäºä¸¤äººä¹‹é—´çš„äº’åŠ¨ï¼Œæ‹¥æœ‰æ›´å¤šçš„ç›¸åŒæ¸¸æˆå’Œç¾¤ç»„ã€æ¸¸æˆå“å‘³è¶Šç›¸ä¼¼ã€äº’è¯„è¶Šå¤šåˆ†å€¼è¶Šé«˜å–”ï¼ä»…ä¾›å‚è€ƒğŸ˜‹<s>å›¾ä¸€ä¹ä¸è¦å½“çœŸå½±å“å‹æƒ…</s>
                </p>
            </div>
        </div>
    </div>
</div>
<h1 class="h3 mb-1 text-gray-800" id="NetWork">ç¤¾äº¤ç½‘ç»œ</h1>
<p class="mb-4">æ­¤æ¨¡å—ç»˜åˆ¶å‡ºå½“å‰è´¦æˆ·çš„ç¤¾äº¤ç½‘ç»œå›¾ï¼Œå¯ä»¥æ‹–åŠ¨æŸ¥çœ‹å“¦</p>
<div class="row">
    <div class="col-xl-12 col-lg-12">
        <div class="card shadow mb-4">
            <div class="card-header py-3">
                <h6 class="m-0 font-weight-bold text-primary">ç¤¾äº¤å…³ç³»å›¾</h6>
            </div>
            <div class="card-body" style="min-height: 600px;">
                <div id="nwcot" style="min-height: 600px">
                </div>
            </div>
            <script>
                var nodes = [
                    {% for k in person %}
                {
                    id: "{{ k }}",
                        label: "{{ k }}",
                            group: "Person"
                },
                {% endfor %}
                ];
                var edges = [
                    {% for m in relation %}
                {
                    from: "{{m['p1.id']}}",
                        to: "{{m['p2.id']}}",
                            label: "{{m['type(label)']}}",
                                arrows: ""
                },
                {% endfor %}
                ]

                // create a network
                var container = document.querySelector('#nwcot');

                var data = {
                    nodes: nodes,
                    edges: edges
                };
                var options = {
                    height: '600px',
                    width: '100%',
                    // mass: 3,
                    nodes: {
                        shape: 'dot',
                        size: 30,
                        font: {
                            size: 15,
                            color: '#00ff00'
                        },
                        borderWidth: 2
                    },
                    edges: {
                        width: 2
                    },
                    groups: {
                        "Person": {
                            color: {
                                background: 'orange',
                                border: 'maroon'
                            },
                            shadow: {
                                enabled: true,
                                color: 'rgba(0,0,0,0.5)',
                                x: 2,
                                y: 2
                            }


                        }
                    }
                };
                network = new vis.Network(container, data, options);
            </script>
        </div>
    </div>
</div>
<h1 class="h3 mb-1 text-gray-800" id="Likelyknow">å¯èƒ½è®¤è¯†çš„äºº</h1>
<p class="mb-4">æ­¤æ¨¡å—ç»™å‡ºäº†è¯¥è´¦æˆ·å¯èƒ½è®¤è¯†çš„äººï¼Œè¿™äº›äººéƒ½æ˜¯ä¸åœ¨è¯¥è´¦æˆ·å¥½å‹åˆ—è¡¨ä¸­çš„</p>
<div class="row">
    <div class="col-xl-12 col-lg-12">
        <div class="card shadow mb-4">
            <div class="card-header py-3">
                <h6 class="m-0 font-weight-bold text-primary">äººé™…æ¨è</h6>
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-bordered" width="100%" cellspacing="0">
                        <thead>
                            <tr>
                                <th>Likelyknow</th>
                                <th>Link</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for it,em in pbknow %}
                            <tr>
                                <td>{{ em }}</td>
                                {% if it %}
                                <td><a href="https://steamcommunity.com/profiles/{{em}}/">ä¸»é¡µåœ°å€</a></td>
                                {% else %}
                                <td><a href="https://steamcommunity.com/id/{{em}}/">ä¸»é¡µåœ°å€</a></td>
                                {% endif %}
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
<h1 class="h3 mb-1 text-gray-800" id="Withothers">äººé™…å¯¹æ¯”</h1>
<p class="mb-4">è¾“å…¥å…¶ä»–äººidå¯ä»¥è·å¾—æœ¬è´¦æˆ·å’Œå…¶ä»–äººè´¦æˆ·ä¹‹é—´å¯èƒ½å­˜åœ¨çš„å¥½å‹é“¾æ¡å…³ç³»</p>
<div class="row">
    <div class="col-xl-12 col-lg-12">
        <div class="card shadow mb-4">
            <div class="card-header py-3">
                <h6 class="m-0 font-weight-bold text-primary">nåº¦ç½‘ç»œ</h6>
            </div>
            <div class="card-body">
                <p>è¾“å…¥å…¶ä»–äººidæŸ¥è¯¢å½¼æ­¤äº’åŠ¨</p>
                <form class="d-sm-inline-block form-inline mr-auto ml-md-3 my-2 mw-100 search">
                    <div class="input-group">
                        <input type="text" id="sear" class="form-control bg-light border-0 small"
                            placeholder="Search for interaction" aria-label="Search" aria-describedby="basic-addon2">
                        <div class="input-group-append">
                            <button class="btn btn-primary" type="button" id="sbtn">
                                <i class="fas fa-search fa-sm"></i>
                            </button>
                        </div>
                    </div>
                </form>
                <div class="table-responsive">
                    <table class="table table-bordered" id="mtb" width="100%" cellspacing="0">
                        <thead>
                            <tr>
                                <th>friendchain</th>
                                <th>Link</th>
                            </tr>
                        </thead>
                        <tbody>

                        </tbody>
                    </table>
                </div>
                <script>
                    $("#sbtn").click(function () {
                        $.ajax({
                            type: 'POST',
                            url: '/check',
                            data: {
                                'my': $("#hisid").text(),
                                'his': $("#sear").val().toString()
                            },
                            success: function (data) {
                                $("#mtb tbody").empty("");
                                if (data['msg']==1){
                                    $("#mtb tbody").append('<div class="card mb-4 py-3 .border-left-warning" id="onsu">'+
                    '<div class="card-body">' + data['data'] + '</div>')
                                }
                                else{
                                    for(var i=0;i<data['data'].length;i++){
                                        if(data['data'][i][1] == 0){
                                            var ur = "https://steamcommunity.com/profiles/"+data['data'][i][0]+"/"
                                        }
                                        else{
                                            var ur = "https://steamcommunity.com/id/"+data['data'][i][0]+"/"
                                        }
                                        $("#mtb tbody").append('<tr><td>'+ data['data'][i][0] +'</td>'+
                                            '<td><a href='+ur+'>ä¸»é¡µåœ°å€</a></td></tr>')
                                    }
                                }
                            },
                            error: function (event) {
                                console.log(1)
                                console.log(event.responseText);
                            },
                            dataType: 'json'
                        });
                    })
                </script>
            </div>
        </div>
    </div>
</div>

<script crossorigin="anonymous"
    integrity="sha512-UN8wX5Zf4Af6/2UJOYTYyWLHdua4SWMd1pnIxNoDCtqdaAMk1TQdvwwgoG7ShvuOS1d9jCerLNzwfvRmL7N4iA=="
    src="https://lib.baomitu.com/echarts/5.2.0/echarts.min.js"></script>
<script src="{{url_for('static', filename='js/echarts-wordcloud.min.js')}}"></script>
<script>
    var mycharts = echarts.init(document.getElementById("cyt"));
    var namelist = {{ draftkey| safe}}
    var jsonlist = {{ draftvalue | safe}};
    var finalist = []
    for (i = 0; i < jsonlist.length; i++) {
        finalist.push({
            "name": namelist[i],
            "value": jsonlist[i]
        })
    }
    image1 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAQmklEQVR4Xu2dCdSuUxXHf7hkjIWEXC6ZQ4ZcM5kryTzUJVaIjJEQZVjIlHnWMs9uIssURciUeapUkqEoSgmZrtv6f8693m94v+993+d53+fZ++y91re+y/c+5+z93+f/nuecs8/eUxBSJwSmAxYBFk0/i6XfCwFvAS8DTwGnAXfVSXGvukzh1bCa2/XJBhI0kmFeoFWfPAIcA1xZc1tNq9eqM0wbWZHyUwELDJgJRAbNCrOUqNNDwEHAz0tsM5pKCARByhkKGvDbAssBeh2aB/gUIJL0Sm4AdgFe7FWHOfQTBCnu5Z2B44CZijdVuIU3gYOBk4APCrcWDbT8vhtQDUZgBuBIYK8agqPXrnHA0zXUzZRKMYMMdtf8aZ0wBlgQWByYFngV+DGwbPr/GwBabNdV3gUOSQv5iXVVsu565U4Q2b8GsDawWlpDzFh3p7Wp3+3AV4G/t/lcfLyNLUVvYI0C9kivR/N5M24Ie14B9gEuycDWUk3McQYZmwaKdptyEx0ungzcDGhBHzICArkRZBvgXGCazEfGe8DDwNvA9MAygGbVRtEa5hngT+nnNuAmYEJO2OVEEL2HX5rxa2UZ41qhLucAZ6awlzLarHUbuRBksxSS0cuDu1o7vqByigvbDzi9YDu1fzwHgnwBuL7Hp9q1d3xJCp4P7AC43Ub2ThBt2eo9eo6SBkQ0MxiBH6ZYMJfYeCfIWYBCQUK6h4BCWlYG7u9eF9W17JkgOvi7szpos+pZofcK1HT3quWZIHLa0lkN02qN3RIYX60K5ffulSDrAreUD1e0OAwCtwLreUPIK0G0a6VgwpDeIaDXK92IdHUfxSNBRgPPxYFg75jR0NO+wPGV9NylTj0S5HuAth5Deo/A1cDmve+2ez16JMjjwJLdgyxaHgaB5wFX0dHeCLJw3KKrnMA6nHUTKeyNILrz4OoduPLh3r4COjS8t/3H6vmEN4JcC2xUT6iz0UpXChQ17UK8EeRvwFwuPGPXiAOBo+yq319zTwSZLSVW8OIbq3YoBH53q8oP1NsTQVaNfLW1GJaXpZRDtVCmqBKeCLIFcFVRQOL5wgjc6CmKwRNBFNau8PaQahHQDpZ2slyIJ4Ic4GlxaHh0PQEsZVj/fqp7IojCSxRmElItAtpJVOJuF+KJIMr3tKcLr9g24p2UqtW2FUl7TwRROpqdXHjFvhFuwk08EeRiQKe4IdUjoIBFBS6aF08EUSkyXfsMqR4BRVM/Wb0axTXwRJCIwyo+HspqwU3AoieCqATZl8rycLRTCAEl63NRM9ETQZSkQckaQqpHYBNAM7p58UQQZR9f07xHfBjwNeByD6Z4IsgdwOoenOLABuXrPc+BHa6KeP4aWMWDUxzYsBtwhgM7XBHkbk9BcsYHl+6DuCiN4OkV6x5gJeMDy4v6Ko19igdjPBFEYdYrenCKAxuUPONEB3a4esUKgtRnRLrJsBgzSH0GlSdN9gZO8mCQJ4LEGqQ+IzLWIPXxxWRN4hykPk6JXaz6+GKyJrcDn6+hXjmqtGOqR2/edk+vWCrgso55j/gwYByg9D/mxRNBbgIURRpSPQKbAtdUr0ZxDTwR5Dpgw+KQRAslILAWoFde8+KJIHGjsD7D8bOA6rSYF08EuRD4unmP+DBAaX+U/se8eCLImcAu5j1i34BI+1NTHyq84bia6paTWg8Dy3kx2NMMsoeXCFLjg+sSYFvjNkxW3xNBLgC28+IYw3ZEfZAaOk9T+n3AqBrqlptKDwFjgQ88GG55BtHdD+23fzFdtbVsi4ex1GiDUv7oC+tZ4CeWq95aHVT7A0d7G1VO7Xk1RThoZjEnFgmyQiozbFF3cwOkJIX/DcwP6LcpsTjILvK0S2JqtBRT9lSL5SmsEUT6vgbMXMxX8XQFCLwJzA68XUHfHXdpjSDLADqICrGJwEaAgkrNiDWCKKXlpWbQDUUHInAk8H1LsFgjiGoQqhZhiE0Ebk7b8ma0t0YQxVop5irEJgJ/ABaxpLo1gpwNfNMSwKFrPwQmAFMDE63gYo0g5wPbWwE39BwSAe1Avm4FG2sEiTMQKyOruZ6mCnxaI0hE7NonyBLAU1bMsEYQ1Zz4lhVwQ88hEdBZ1qNWsLFGkNjFsjKymuupUPgHrJhhjSAHAUdYATf0HBKB5YEHrWBjjSA7A2dZATf0HBKBJYEnrWBjjSDK2He1FXBDzyERWBB4xgo21giiIp0q1hliF4G5gJetqG+NIGPSNU4r+IaegxH4GPCuFWCsEURJGd5K4QpWMA49P0JAd0JmtASINYII298Ci1kCOXSdjIC5pHIWCaJFuhbrIfYQOAw41JLaFgnyI+A7lkAOXfsQeB+YF3jJEh4WCaJoXkX1hthCQFVvVf3WlFgkyNzAi+CqxrupQdOBsqrdouvS5rItWiSI/KOrm+t34Kh4pPcIKLPi1oAuS5kTqwTRtU3F85jaMjQ3Ooop/B9gH+C8Ys1U+7RVggg1lXzWt9Ns1UIYvQ+BwK8AVbo1X2XKMkHkl3lSueHVYpjWAoEXgAO8lIAWotYJMskGRfkeC8xUi2GSnxLKlng4cIK1zIkjucoDQSbZOEvaKdkBWHYkw+PvpSGg+vTKNKOdRXfiiSCNzlGKy2vdeat+Br0HfALQgtyleCWInPXnlHLfpeNqYtR4YMua6NIVNTwTZD/gmK6gFo1OQmBt4DbPcHgmiM5ItKuitUlI+QiYi8ztBALPBBEeihw9pBNg4pkREdgkh3Wed4JMBzwNjB7R3fGBdhB4DFi6nQesftY7QeSXjYFrrDqopnpvCFxfU91KVSsHgggwRZO63m0pdVQM39jtqfx2D7usrqtcCDIr8EdAv0M6R0An5p9JW+idt2LoyVwIIpesA6jA/ZSG/FM3VZXZMqsKXzkRRIMtzkY6p9zvgKXS1dnOWzH2ZG4EkXuuALYy5qeq1VUeK8W3mSlbUBZgORJEict0X2HFskDMoJ1dgTMzsHOQiTkSRCDodF0pTLXgDBkeASXI+EauIOVKEPlbNxHvARbO1fkt2K0vEd3cNHmfvAX7RvxIzgQROMqQop0tlQUL6Y+AIhBWBv6VMzC5E0S+nxY4N122ynksNNquIE+t0czfKS/q0CDIhwjqbOR0YJeigDp4XiWaVwB+78CWwiYEQfpDqLgtzSa5nri/kQ5U7y88spw0EAQZ7EitS1TmTQF5OYmK2igZ3+M5GT2SrUGQ5gjtBSifbA7yRMp+qNISIQ0IBEGaD4c5rWUi73BkKwBR+cX+2eHzrh8LgjR37wyA3sm9i2YPxViFDIFAEKT5sJgqk8C8rO53tPstEAQZHrF3gGnaBdXY51Wxa3NjOvdM3SBIc6h1NqL386l75o1qOtLZz9nVdF3/XoMgw/tI4d2L19+NHWuogjazA6913ILzB4Mgwzv4YmAbx2PgUWAZx/YVNi0IMjyEBwOqzOpVzgGUGT+kCQJBkOGHxh7AKY5Hj74AVLYgJAjS0Rj4NnBiR0/aeCgW6CP4KWaQ4QE6PtXZszHc29cy26u0rUIVBBkeKd2oW6VVMA1+TtnvVTItJF6x2h4DH0+36XSi7lX0BRD1HYfxbswgzcFRkrQjvDIj2TUxFRl6zrmdHZsXBBkaOpUVeyaToqDxmhUzSFtfIAoxUTb4r7T1lN0Pv5WSVjxr14TuaR4zSH9std64EBjXPchr2bIymCwP/LeW2lWoVBDkI/BVbEeVcder0B9Vdv0IsG5cnOrvgiDIh3ioApVqiKxU5QitQd/Pp4JDIksIkDtBpk8HgdqxUn6sEFDt86PSDp7+nbXkShARQ0F6B6Zw76wHQRPjVXBo/9zL1+VEENmqheimKUHczMGKlhBQXRCF/V8GZHde4p0gsm/VdKdDZYt1vhHSOQKqja4t8BsBrVN00OhaPBFEtqicgX4WTT+Ko4oS0N0Zwq8AtwC3AUr84PIcxSpBRgGLpHQ1uhH3OWAsoFQ9IdUgoCzwOk/RjxLQKZ2QsjSaToBthSCaFdYClkuk0H97zzZSzTAvv9dXE1H0SnZfmm3MJKmrK0HmAzZIxVtUwCXWDuUP3Kpa1LpFyTBUBk+vZqrP8mZVyozUb50IovQ6in/aMSVRrpNuI+EYf+8cAaVWugm4CrgOUGxYbaQOg1B5YXX3W3XwlIImJF8ERJafpmvOD9YBhioJovJeuvOtcwnPl5Lq4GeLOmi9onwAIsz7VRlQBUFUvejkVMWoKrujXzsI6ER/vxRI2nOte0mQ+YGjgS17bmV06AGBu4HdASW765n0giDajv1B+haIrdmeudZlR0qVemwaTz157eo2QVQp9SJgIZfuCqOqQkBnKlsBev3qqnSLILq2qgWWdqe61UdXgYnGa4+Adrx0JHBpNzXtxuBVuhwFtOnkOyQQ6DYC+iL+LjChGx2VTZAFgZuBT3dD2WgzEGiCwC8BRWuXfqe+TIIsCfwCmCPcGAhUgICCI9cB/lFm32URRId+mjlmKlO5aCsQaBOBvySSKKdZKVIGQRRhq8CzGUvRKBoJBIoh8ELKp6zfhaUoQRYD7gXi+mphV0QDJSKgmWR1oDBJihBkznTtUr9DAoG6IaC79DqHe72IYp0SREnWFEwWBeiLoB/PdhuBO4C1i2wBd0qQK9JJZrcNjPYDgaIInArs2WkjnRBkJ0DFH0MCASsIbAz8rBNl2yWIaoY/FFkIO4E6nqkQAR0gKrlH29u/7RBEqTmVF0k7VyGBgDUEHkuJA9tKp9oOQc6KmtrWxkToOwCBM4Dd2kGlVYIo8FDxLiGBgHUEtKulZHctSSsEUTI2pWlRKp6QQMA6Ai+m44nXWjGkFYJcAGzXSmPxmUDACAK6vrsmH5Z6GFZGIsgWKV/RSO3E3wMBawgocYiy6nRMEOW+VW6iCEIcCcX4u1UEtk6VxZrq32wGUQiJ0kLOatXy0DsQaAGBd1NdxjubfXYogogUunwydwsdxEcCAesIaLGuKxtDlm8YiiDnA9tbtzr0DwTaQECLdhVaGiQDCaJTcm3pjrR4b6Pv+GggYAKBLwM3DNR0IBEUhKhgxJBAIDcEdCtWW7/9pJEgynqo9zFVgA0JBHJEQIlHnmw0vJEg66aaczkCEzYHAkLgGOCAZgQ5Dtg3cAoEMkbg+YEhVY0zyG9SOHDG+ITpgUBflWQVIe2TSQRRQKIulcTuVYyQ3BFQOLzC4vsRRInftBccEgjkjsD4xho2k2aMXYHTc0cm7A8EUi6teQfOIKe1e9MqoAwEHCOgwrJ/bVyDKOm0blqFBAKBAGyWiodOXpRre2t0IBMIBAJ9CBwOHDxpBhnVys2qAC4QyAgBxWQpNqtvBlmgk3xBGYEVpuaHgJJe9y3URZA1UvmC/GAIiwOB5gio1s0bIoiuHV4eSAUCgUA/BMYCD4ggewMnBDiBQCDQD4FxwGUiyJHAgQFOIBAI9EPgUOAwESRSisbICAQGI3AJsK0IcmVj7EkgFQgEAn0I3KUybiKIqtOuH6AEAoFAPwQUajKPCKIoXkXzhgQCgcBHCEwEphJBlANriUAmEAgEBiEwWgRRwqwxAU4gEAgMQmBFEeQlIEo5x+gIBAYjsLEIolQ/swQ6gUAgMAiBXUWQ/0VRzhgagcCQCBwqgqiIiELeQwKBQKA/AmeIIBOAKQOZQCAQGITAeBFE+70hgUAgMBiBW/8PLAMCa7j6evUAAAAASUVORK5CYII="

    var maskResource = new Image()
    maskResource.src = image1;
    var option = {
        //è®¾ç½®æ ‡é¢˜ï¼Œå±…ä¸­æ˜¾ç¤º
        title: {
            text: 'Eè¯äº‘å›¾',
            left: 'center',
        },
        //æ•°æ®å¯ä»¥ç‚¹å‡»
        tooltip: {

        },

        series: [
            {
                maskImage: maskResource,
                //è¯çš„ç±»å‹
                type: 'wordCloud',
                //è®¾ç½®å­—ç¬¦å¤§å°èŒƒå›´
                sizeRange: [6, 78],
                rotationRange: [-45, 90],
                textStyle: {
                    normal: {
                        //ç”Ÿæˆéšæœºçš„å­—ä½“é¢œè‰²
                        color: function () {
                            return 'rgb(' + [
                                Math.round(Math.random() * 160),
                                Math.round(Math.random() * 160),
                                Math.round(Math.random() * 160)
                            ].join(',') + ')';

                        }
                    }

                },
                //ä¸è¦å¿˜è®°è°ƒç”¨æ•°æ®
                data: finalist

            }
        ]

    };
    //åŠ è½½å›¾åƒï¼Œå°†æ•°æ®æ”¾åœ¨å›¾åƒä¸­
    maskResource.onload = function () {
        mycharts.setOption(option)
        window.onresize = function () {
            setTimeout("mycharts.resize()", 100);
        }

    };
</script>
{% endblock %}